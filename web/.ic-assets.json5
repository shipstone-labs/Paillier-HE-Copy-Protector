// IC Assets configuration
// This file defines security policies for static assets served by the frontend canister
[
  {
    // Apply standard security headers to all files
    "match": "**/*",
    "security_policy": "standard",
    "headers": {
      // Prevent clickjacking attacks
      "X-Frame-Options": "DENY",
      // Prevent MIME type sniffing
      "X-Content-Type-Options": "nosniff",
      // Enable strict referrer policy
      "Referrer-Policy": "strict-origin-when-cross-origin",
      // Permissions policy (formerly feature policy)
      "Permissions-Policy": "geolocation=(), microphone=(), camera=()"
    }
  },
  {
    // Allow index.html to be embedded in iframes (if needed for IC integrations)
    "match": "index.html",
    "headers": {
      "X-Frame-Options": "SAMEORIGIN"
    }
  },
  {
    // Cache static assets for better performance
    "match": "{assets/**/*,**/*.js,**/*.css}",
    "headers": {
      "Cache-Control": "public, max-age=31536000, immutable"
    }
  }
]